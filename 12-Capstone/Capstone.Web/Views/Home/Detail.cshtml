@model ParkDetailVM

@{
    ViewData["Title"] = "Detail";
}
<div id="DetailBody">
    <img id="DetailImage" class="img-responsive" src="~/images/parks/@(Model.Park.ParkCode).jpg" alt=" Scenic View of Park" />
    <h2 id="DetailHeaderName">@Model.Park.ParkName</h2>
    <p><strong>State: </strong>@Model.Park.State</p>
    <p><strong>Acerage: </strong> @Model.Park.Acerage acres</p>
    <p><strong>Elevation: </strong> @Model.Park.ElevationInFeet ft.</p>
    <p><strong>Miles of Trail: </strong>@Model.Park.MilesOfTrail ft.</p>
    <p><strong>Number of Campsites: </strong>@Model.Park.NumberOfCampSites</p>
    <p><strong>Climate: </strong>@Model.Park.Climate</p>
    <p><strong>Year Founded: </strong>@Model.Park.YearFounded</p>
    <p><strong>Annual Visitor Count: </strong>@Model.Park.AnnualVisitorCount</p>
    <p><strong>Number of Animal Species: </strong>@Model.Park.NumberOfAnimalSpecies</p>
    <p><strong>Entry Fee: </strong>$@(Model.Park.EntryFee).00</p>
    <br />
    <p><i>"@Model.Park.InspirationalQuote" </i>- @Model.Park.InspirationalQuoteSource</p>
    <br />
    <p><strong>Park Description:</strong></p>
    <p>@Model.Park.ParkDescription</p>
    <br></br>
    <form method="post" asp-controller="Home" asp-action="Detail">

        <h3><strong>Current 5 Day Weather Forecast</strong></h3>
        <table id="WeatherTable" class="table table-bordered">
            <div>
                <input type="hidden" value="@Model.Park.ParkCode" name="parkCode" />
                <label>Celsius </label>
                <input type="radio" value="C" asp-for="TempUnit" />
                <label>Farenheit </label>
                <input type="radio" value="F" asp-for="TempUnit" />
                <input type="submit" value="Change Temp" />
            </div>
            
                
            
            @foreach (Weather weather in Model.Weather)
            {
                
            <td>
                <strong>
                    Day @weather.FiveDayForecastValue
                </strong>

                <br />
                <img id="WeatherImage" src="~/images/weather/@(weather.Forecast.Replace(" ","")).png" /><br />
                <p><strong>High: </strong>@weather.High&#176</p>
                <br />
                <p><strong>Low: </strong>@weather.Low&#176</p>

                <br />
                <strong>Recommendations: </strong>
                @if (weather.Forecast.Replace(" ", "") == "snow")
                {
                    <p>Make sure to pack snow shoes</p>
                }
                else if (weather.Forecast.Replace(" ", "") == "rain")
                {
                    <p>Be sure to pack rain gear and wear water proof shoes</p>
                }
                else if (weather.Forecast.Replace(" ", "") == "thunderstorms")
                {
                    <p>Be sure to seek shelter and avoid hiking on exposed ridges</p>
                }
                else if (weather.Forecast.Replace(" ", "") == "sunny")
                {
                    <p>Be sure to pack your sunblock</p>
                }


                @if (Model.TempUnit == "F")
                {
                    if (weather.High >= 75)
                    {
                        <p>Do not forget to pack an extra gallon of water</p>
                    }
                    if ((weather.High - weather.Low) >= 20)
                    {
                        <p>Also be sure to wear breathable layers</p>
                    }
                    if (weather.Low <= 20)
                    {
                        <p>WARNING! You will experience exposure to frigid temperatures</p>
                    }
                }
                else
                {
                    if (weather.High >= (int)((((double)75 - 32) / 1.8)))
                    {
                        <p> Do not forget to pack an extra gallon of water </p>
                    }
                    if ((weather.High - weather.Low) >= Math.Round(((double)20 / 1.8), 0))
                    {
                        <p> Also be sure to wear breathable layers</p>
                    }
                    if (weather.Low <= Math.Round(((((double)20 - 32) / 1.8)), 0))
                    {
                        <p> WARNING!You will experience exposure to frigid temperatures</p>
                    }
                }
            </td>
                
            }

        </table>
        @*<input type="hidden" value="@Model.Park.ParkCode" name="parkCode" />
            <label>Celsius </label><input type="radio" value="C" asp-for="TempUnit" />
            <label>Farenheit </label><input type="radio" value="F" asp-for="TempUnit" />
            <input type="submit" value="Change Temp" />*@

    </form>
</div>
